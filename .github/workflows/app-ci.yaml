name: App

on: push

jobs:
    ci:
        runs-on: macos-latest
        name: App CI ðŸš€

        steps:
            - uses: swift-actions/setup-swift@65540b95f51493d65f5e59e97dcef9629ddf11bf
              with:
                  swift-version: 5.10
            - uses: actions/checkout@v4

            - name: Setup Xcode
              run: |
                  cd ./apps/mobile
                  xcodebuild -downloadAllPlatforms

            - name: Build
              run: |
                  xcodebuild build -scheme metro-now -project ./apps/mobile/metro-now/metro-now.xcodeproj | xcpretty && exit ${PIPESTATUS[0]}
